#!/bin/bash

revision=$1

if [ ! -z "$revision" ]; then
    git log --format=oneline --abbrev-commit --no-merges --first-parent "$revision"
    git log --format=%h -z --reverse --no-merges --first-parent "$revision" | xargs -0 -p -n 1 git show -w -C -p --stat
fi
